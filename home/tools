#!/bin/bash

# Uncomment the following line if you don't like systemctl's auto-paging feature:
# export SYSTEMD_PAGER=

# colors
export TERM='xterm-256color'
export CLICOLOR=1
export COLORTERM="truecolor"

#export LANG=en_US.UTF-8
#export LC_CTYPE=en_US.UTF-8

# User specific environment and startup programs
PATH=$PATH:$HOME/.local/bin:$HOME/bin
export PATH

export RUBYOPT='-W:no-deprecated -W:no-experimental'

eval "$(/home/linuxbrew/.linuxbrew/bin/brew shellenv)"

export PATH="${PATH}:${HOME}/.nix-profile/bin"

. $HOME/.asdf/asdf.sh

[[ -z $ZSH_STARTING ]] && . $HOME/.asdf/completions/asdf.bash

if [[ $ZSH_STARTING == "true" ]]; then
    unset ZSH_STARTING
    alias shopt="echo"
    export LC_ALL=en_US.UTF-8
    export LANG=en_US.UTF-8
    HISTFILE=~/.histfile
    HISTSIZE=1000000
    SAVEHIST=10000000
    ZSH_COLORIZE_STYLE="colorful"
    ZSH_THEME="powerlevel10k/powerlevel10k"

    #source ~/powerlevel10k/powerlevel10k.zsh-theme
    source ~/.zsh/zsh-autosuggestions/zsh-autosuggestions.zsh
    source ~/.zsh/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh

    # Path to your oh-my-zsh installation.
    export ZSH="$HOME/.oh-my-zsh"
    # Uncomment the following line to use case-sensitive completion.
    # CASE_SENSITIVE="true"

    # Uncomment the following line to use hyphen-insensitive completion.
    # Case-sensitive completion must be off. _ and - will be interchangeable.
    # HYPHEN_INSENSITIVE="true"

    # Uncomment one of the following lines to change the auto-update behavior
    # zstyle ':omz:update' mode disabled  # disable automatic updates
    # zstyle ':omz:update' mode auto      # update automatically without asking
    # zstyle ':omz:update' mode reminder  # just remind me to update when it's time

    # Uncomment the following line to change how often to auto-update (in days).
    # zstyle ':omz:update' frequency 13

    # Which plugins would you like to load?
    # Standard plugins can be found in $ZSH/plugins/
    # Custom plugins may be added to $ZSH_CUSTOM/plugins/
    # Example format: plugins=(rails git textmate ruby lighthouse)
    # Add wisely, as too many plugins slow down shell startup.
    plugins=(git)
    source $ZSH/oh-my-zsh.sh

    # End of lines configured by zsh-newuser-install
    # The following lines were added by compinstall
    zstyle :compinstall filename '/home/ndsadmin/.zshrc'

    # append completions to fpath
    fpath=(${ASDF_DIR}/completions $fpath)

    # Enable Powerlevel10k instant prompt. Should stay close to the top of ~/.zshrc.
    # Initialization code that may require console input (password prompts, [y/n]
    # confirmations, etc.) must go above this block; everything else may go below.
    if [[ -r "${XDG_CACHE_HOME:-$HOME/.cache}/p10k-instant-prompt-${(%):-%n}.zsh" ]]; then
      source "${XDG_CACHE_HOME:-$HOME/.cache}/p10k-instant-prompt-${(%):-%n}.zsh"
    fi

    # To customize prompt, run `p10k configure` or edit ~/.p10k.zsh.
    [[ ! -f ~/.p10k.zsh ]] || source ~/.p10k.zsh

    # initialise completions with ZSH's compinit
    autoload -Uz compinit && compinit
fi

export PATH="${PATH}:${HOME}/.nix-profile/bin"

